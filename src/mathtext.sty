%% mathtext.sty
%% Copyright Joshua Allum
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
% 
% The Current Maintainer of this work is Joshua Allum
%
% This work consists of the files mathtext.sty
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mathtext}
    [2017/03/04 v0.01 LaTeX package for math textbooks]

\RequirePackage[many]{tcolorbox}
\tcbuselibrary{breakable}
\RequirePackage{multido}
% ------------------------------------------------------ %
% Set up colored boxes

% Numbered example environment
\newtcolorbox[auto counter, number within = section]{example}{
    colback=green!15!white,
    colframe=green!15!white,
    outer arc=0pt,
    title=Example~\thetcbcounter,
    coltitle=black!,
    toptitle=2mm,
    fonttitle=\bfseries\large,
    breakable}

% Numbered theorem environment
\newtcolorbox[auto counter, number within=section]{theorem}{
    colback=blue!10!white,
    colframe=blue!10!white,
    outer arc=0pt,
    title=Theorem~\thetcbcounter,
    coltitle=black!,
    toptitle=2mm,
    fonttitle=\bfseries\large,
    breakable}

% Grey theory environment
\newtcolorbox{theory}[1]{
    colback=black!5!white,
    colframe=black!5!white,
    outer arc=0pt,
    title=#1,
    coltitle=black!,
    toptitle=2mm,
    fonttitle=\bfseries\large,
    breakable}
    
% Yellow information environment
\newtcolorbox{info}{
    colback=yellow!20!white,
    colframe=yellow!20!white,
    outer arc=0pt,
    breakable}
% ------------------------------------------------------ %

% ------------------------------------------------------ %
% Create proof environment
\newcounter{proof}[section]
\newenvironment{proof}{\refstepcounter{proof}\par\medskip%
    \noindent\textbf{Proof~\thesection.\theproof:}
    \par\nopagebreak\medskip\noindent}{\hfill$\qed$\par\medskip}

\newcommand*{\qed}{\ensuremath{\square}}
% ------------------------------------------------------ %

% ------------------------------------------------------ %
% Set up helpful math functions and statistical distributions
\newcommand*{\underuparrow}[1]{\underset{\color{red}{\uparrow}}{#1}}
\newcommand*{\for}{\ensuremath{\text{ for }}}
\newcommand*{\all}{\ensuremath{\text{all }}}
\newcommand*{\ow}{\ensuremath{\text{ otherwise }}}
\newcommand*{\since}{\ensuremath{\text{since }}}
\newcommand*{\as}{\text{ as }}
\newcommand*{\by}[1]{\hspace{5mm}\text{by #1}}
\newcommand*{\dist}{\ensuremath{\sim}}
\newcommand*{\abs}[1]{\left|#1\right|}
\renewcommand*{\d}[1]{\operatorname{d}\!{#1}}
\newcommand*{\deriv}[1]{\frac{\d{}}{\d #1}}
\newcommand*{\tendsto}{\rightarrow}

\newcommand*{\rv}{r.v.}
\DeclareMathOperator{\duni}{\textsl{Discrete Uniform}}
\DeclareMathOperator{\hype}{\textsl{Hypergeometric}}
\DeclareMathOperator{\bino}{\textsl{Binomial}}
\DeclareMathOperator{\nbino}{\textsl{Negative Binomial}}
\DeclareMathOperator{\nbin}{\textsl{NB}}
\DeclareMathOperator{\geom}{\textsl{Geometric}}
\DeclareMathOperator{\pois}{\textsl{Poisson}}
\DeclareMathOperator{\var}{\textsl{Var}}
\newcommand*{\stddev}{\sigma}
\newcommand*{\rate}{\lambda}
\newcommand*{\mean}{\mu}
\newcommand*{\sn}[2]{\ensuremath{{#1}{\times}10^{#2}}}

\newcommand*{\tofact}[2]{#1^{(#2)}}

\newcommand*{\ifo}{\leftrightarrow}

\newcommand*{\ordero}{\textsl{o}}
\newcommand*{\change}{\Delta}

\newcommand*{\union}{\cup}
\newcommand*{\intersect}{\cap}
\newcommand*{\given}[1][]{\:#1\vert\:}
\newcommand*{\comp}{\overline}
\newcommand*{\nullset}{\emptyset}
\DeclareMathOperator{\Range}{Range}
\newcommand*{\range}[1]{\Range(#1)}
\newcommand*{\ssep}{\mid}
\newcommand*{\sS}{\ensuremath{\mathbb{S}}}
\newcommand*{\sR}{\ensuremath{\mathbb{R}}}

\newcommand*{\pboxes}[1]{
\ifnum #1 = 0
    \raisebox{-2pt}{
        \leavevmode\unskip\framebox(12,12){}\framebox(12,12){}%
        \framebox(24,12){$\cdots$}%
        \framebox(12,12){}\framebox(12,12){}}\ignorespaces
\else 
    \raisebox{-2pt}{\leavevmode\unskip\multido{}{#1}{\framebox(12,12){}}}\ignorespaces
\fi
}

\newcommand*{\pbox}[1]{\raisebox{-2pt}{\framebox(12,12){#1}}\ignorespaces}

% ------------------------------------------------------ %
